<div class="form-page-container">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-md-10">
        <div class="form-wrapper">
          <!-- Form Header -->
          <div class="text-center mb-4">
            <h1 class="form-title mb-1">
              {{ mode === 'edit' ? 'Edit Budget' : 'Add New Budget' }}
            </h1>
            <p class="text-white-50">Set a spending limit for a category.</p>
          </div>

          <!-- Budget Form -->
          <form [formGroup]="myForm" (ngSubmit)="onSubmit()" id="budgetForm" novalidate>

            <!-- Limit Amount -->
            <div class="input-group input-group-lg mb-3">
              <span class="input-group-text">â‚¹</span>
              <div class="form-floating flex-grow-1">
                <input type="number" class="form-control" id="LimitAmount" placeholder="Limit Amount"
                  formControlName="LimitAmount"
                  [class.is-invalid]="myForm.get('LimitAmount')?.invalid && myForm.get('LimitAmount')?.touched" />
                <label for="LimitAmount">Limit Amount</label>
              </div>
            </div>

            <!-- Budget Category Dropdown -->
            <div class="form-floating mb-3">
              <select class="form-select" id="CategoryName" formControlName="CategoryName"
                [class.is-invalid]="myForm.get('CategoryName')?.invalid && myForm.get('CategoryName')?.touched">
                <option [ngValue]="null" disabled>Select a category</option>
                <option value="Food">Food</option>
                <option value="Travel">Travel</option>
                <option value="Shopping">Shopping</option>
                <option value="Bills">Bills</option>
                <option value="Rent">Rent</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Health">Health</option>
                <option value="Other">Other</option>
              </select>
              <label for="CategoryName">Budget Category</label>
            </div>

            <!-- Month and Year Selection -->
            <div class="row g-3 mb-3">
              <div class="col-md-6">
                <div class="form-floating">
                  <select class="form-select" id="Month" formControlName="Month"
                    [class.is-invalid]="myForm.get('Month')?.invalid && myForm.get('Month')?.touched">
                    <option [ngValue]="null" disabled>Select Month</option>
                    <option *ngFor="let month of months" [value]="month.value">{{ month.name }}</option>
                  </select>
                  <label for="Month">Month</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating">
                  <select class="form-select" id="Year" formControlName="Year"
                    [class.is-invalid]="myForm.get('Year')?.invalid && myForm.get('Year')?.touched">
                    <option [ngValue]="null" disabled>Select Year</option>
                    <option *ngFor="let year of years" [value]="year">{{ year }}</option>
                  </select>
                  <label for="Year">Year</label>
                </div>
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-end mt-4">
              <button type="button" class="btn btn-secondary btn-lg" routerLink="/budgets">
                Cancel
              </button>
              <button type="submit" class="btn btn-primary btn-lg" [disabled]="!myForm.valid">
                {{ mode === 'edit' ? 'Save Changes' : 'Set Budget' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
